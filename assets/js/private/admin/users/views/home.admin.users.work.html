<!--<h3>LIST {{filtered.length}}</h1>-->
<pagination
        limit-rows="limitRows"
        default-rows="defaultRows"
        length-object="(items | filter:{$:searchText, fired:false} ).length"
        current-page="currentPage"
        added="added"
        show-bt="showBt" show-cont-it="showContIt"
        show-str="showStr"
        url-bt="urlBt"
        on-select-page="selectCount=selectCount+1">
</pagination>
<!--{{(items | filter:{$:searchText, fired:false} ).length}}-->
<table class="table table-hover">
    <tr head-table type="user"></tr>
    <tr ng-repeat="item in filtered=(items | filter:{$:searchText, fired:false} |
orderBy:propertyName:reverse | skipItems: ((currentPage-1)*defaultRows)| limitTo: defaultRows)">
        <td>
            {{$index+1}}
        </td>
        <td>

            <!--<img class="photo" ng-class="{photoSize:vid}" ng-mouseover="vid=true" ng-mouseleave="vid=false" ng-src="{{item.avatarUrl}}" alt=""></td>-->
            <img ng-if="item.avatarUrl" alt="{{ item.getFullName() }}" ng-src="{{ item.avatarUrl }}" class="photo"/>
            <img ng-if="!item.avatarUrl" title="фото отсутствует" src="http://placehold.it/40x40/E7E7E7/E7E7E7/&text=Нет" class="photo"/>

        </td>
        <td>
            <a class="position" href="{{item.getEditUrl(item.id)}}">
                {{item.getFullName()}}
            </a>
        </td>
        <td class="text-center">
            {{item.room}}
        </td>
        <td>
            <ul class="position" ng-controller="ListDepartmentController"
                ng-repeat="subdivision in item.subdivision | filter:{$:searchText}">
                <li style="list-style-type: none; margin: 0; padding: 0"
                    ng-repeat="option in items | filter:{$:searchText,id:subdivision.id}">
                    {{option.name}}
                </li>
            </ul>
        </td>
        <td>
            <ul class="position" ng-controller="ListPositionController"
                ng-repeat="position in item.positions">
                <li style="list-style-type: none" ng-repeat="option in items | filter:position.id">
                    {{option.name}}
                </li>
            </ul>
        </td>
        <td>
            <a class="position" href="mailto:{{item.email}}">{{item.email}}</a>
        </td>
        <td ng-if="me.admin" class="text-center">
            {{item.updatedAt | date:"dd.MM.yyyy hh:mm:ss"}}
        </td>
        <td width="250px" class="text-right">
            {{item.getContact(fieldName)}}
        </td>
        <!--<td>{{item.diff}}</td>-->
        <!--<td class="btn-group-xs">-->
        <!--&lt;!&ndash;<a ng-href="{{item.getShowUrl(item.id)}}" class="btn"&ndash;&gt;-->
        <!--&lt;!&ndash;ng-class="{'btn-primary': !item.fired, ' btn-danger':item.fired}">&ndash;&gt;-->
        <!--&lt;!&ndash;<span class="glyphicon"&ndash;&gt;-->
        <!--&lt;!&ndash;ng-class="{'glyphicon-eye-open': !item.fired, 'glyphicon-eye-close':item.fired}"&ndash;&gt;-->
        <!--&lt;!&ndash;aria-hidden="true"></span>&ndash;&gt;-->
        <!--&lt;!&ndash;</a>&ndash;&gt;-->
        <!--&lt;!&ndash;<a ui-sref="admin.users.edit({userId:'588b46b6d20dd30c17b27f03'})">Users Edit</a>&ndash;&gt;-->
        <!--&lt;!&ndash;<a ui-sref="admin.users.edit({userId:item.id})" class="btn btn-sm btn-warning">&ndash;&gt;-->
        <!--&lt;!&ndash;<span class="glyphicon glyphicon-pencil"></span>&ndash;&gt;-->
        <!--&lt;!&ndash;</a>&ndash;&gt;-->
        <!--&lt;!&ndash;<a ng-href="{{item.getEditUrl(item.id)}}" class="btn btn-warning">&ndash;&gt;-->
        <!--&lt;!&ndash;<span class="glyphicon glyphicon-pencil"></span>&ndash;&gt;-->
        <!--&lt;!&ndash;</a>&ndash;&gt;-->
        <!--</td>-->
        <!--<td class="btn-group-xs">-->
        <!--<a href="#">-->
        <!--<span ng-if="mode" ng-click="delete(item)" class="glyphicon glyphicon-trash"></span>-->
        <!--</a>-->
        <!--</td>-->
    </tr>
</table>


<pagination
        limit-rows="limitRows"
        default-rows="defaultRows"
        length-object="(items | filter:{$:searchText, fired:false} ).length"
        current-page="currentPage"
        added="added"
        show-bt="showBt" show-cont-it="showContIt"
        show-str="showStr"
        url-bt="urlBt"
        on-select-page="selectCount=selectCount+1">
</pagination>